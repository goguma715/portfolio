<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>slider</title>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        .animation_canvas  {
                overflow:hidden;
                position:relative;           
                width:600px; height:400px;
            }

    
        /* Slider Panel */
        .slider_panel { width:3000px; position:relative; }
        .slider_image { float:left; width:600px; height:400px; }
        
        /* Control Panel */

        .control_panel  {
            position:absolute; 
            bottom:10px;; 
            left:270px;
            overflow:hidden; 
            color:white;
        }
        
        .dot{
            font-size:10px;
            cursor:pointer;
        }

        /* 좌우로 움직이는 버튼 */
        .arrow{
            color: white;
            font-size: 30px;
        }
        .next,.prev{
            cursor:pointer;
            position: absolute;
            top: 150px;
        }
        .prev{
            left: 15px;
         }
        .next{
            right: 15px;
        }

        /* 정지,재생 버튼 */
        .control{
            position:absolute; 
            color: white;
            font-size: 15px;
            bottom:10px;; 
            left:240px;
            cursor:pointer;
        }
        .play{
            display: none;
        }
        

    </style>
    
    <script>
        $(document).ready(function () {
            // 슬라이더를 움직여주는 함수

            function moveSlider(index){
                var willMoveLeft = -(index * 600);
                $('.slider_panel').animate({ left: willMoveLeft }, 'slow');
                
            };
            
            index=0;//초기값...
            
            let page = index; // 어떻게하는거지?????????
            

            $(".dot").click(function(){
                moveSlider($(this).index());
                index=$(this).index();
            });

            //1번 - prev, next
            $(".next").click(function(){
                moveSlider(4);
                index=4;
            });

            $(".prev").click(function(){
                moveSlider(0);
                index=0;
            });
            

            //2번 - 자동슬라이드
            let loop=setInterval(function(){
                index++;
                if(index==5){
                    index=0;
                }
                moveSlider(index);
            },3000);
                    

            //자동반복 재생,멈춤
            $(".stop").click(function(){
                clearInterval(loop);
                $(".stop").hide();
                $(".play").show();
            });
            $(".play").click(function(){
                //loop 줄여서 쓰는 방법? - loop에 바로 대입하지 말고 setInterval 안의 function먼저 따로 정의 후에 loop에 대입하면 될 듯..
                loop=setInterval(function(){
                    index++;
                    if(index==5){
                        index=0;
                    }
                    moveSlider(index);
                },3000);
                $(".play").hide();
                $(".stop").show();
            });
        });
        
    </script>
</head>

<body>
   <div class="animation_canvas">
        <div class="slider_panel">
            <img src="https://s.fotorama.io/1.jpg" class="slider_image"/>
            <img src="https://s.fotorama.io/2.jpg" class="slider_image"/>
            <img src="https://s.fotorama.io/3.jpg" class="slider_image"/>
            <img src="https://s.fotorama.io/4.jpg" class="slider_image"/>
            <img src="https://s.fotorama.io/5.jpg" class="slider_image"/>
        </div>
        

        <div class="control_panel" style="text-align:center">
          <span class="dot"><i class="fa fa-circle" aria-hidden="true"></i></span> 
          <span class="dot"><i class="fa fa-circle" aria-hidden="true"></i></span> 
          <span class="dot"><i class="fa fa-circle" aria-hidden="true"></i></span> 
          <span class="dot"><i class="fa fa-circle" aria-hidden="true"></i></span>
          <span class="dot"><i class="fa fa-circle" aria-hidden="true"></i></span>
        </div>
        <div class="control">
            <span class="play"><i class="fa fa-play" aria-hidden="true"></i></span>
            <span class="stop"><i class="fa fa-pause" aria-hidden="true"></i></span>
        </div>

        <div class="arrow">
            <div class="prev"><i class="fa fa-chevron-left" aria-hidden="true"></i></div>
            <div class="next"><i class="fa fa-chevron-right" aria-hidden="true"></i></div>
        </div>
    </div>

</body>
</html>